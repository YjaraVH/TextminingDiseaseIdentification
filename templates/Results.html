<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.btn {
  background-color: DodgerBlue;
  border: none;
  color: white;
  padding: 12px 16px;
  font-size: 16px;
  cursor: pointer;
}

/* Darker background on mouse-over */
.btn:hover {
  background-color: RoyalBlue;
}
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
    background-image: url('https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fgetwallpapers.com%2Fwallpaper%2Ffull%2Fe%2Ff%2F2%2F441670.jpg&f=1&nofb=1');
    background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
}

/* Style of the header */
header {
  background-color: darksalmon;
  padding: 6px;
  text-align: center;
  font-size: 20px;
  color: white;
}

/* Create two columns/boxes next to each other */
nav {
  float: left;
  width: 30%;
  background: #ccc;
  padding: 20px;
}

article {
  float: left;
  padding: 20px;
  width: 70%;
  background-color: powderblue;
}

/*Topnav*/
.topnav {
  overflow: hidden;
  background-color: darksalmon;
}

.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.active {
  background-color: lightsteelblue;
  color: white;
}

.topnav .icon {
  display: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 17px;
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.topnav a:hover, .dropdown:hover .dropbtn {
  background-color: #555;
  color: white;
}

.dropdown-content a:hover {
  background-color: #ddd;
  color: darkseagreen;
}

.dropdown:hover .dropdown-content {
  display: block;
}

@media screen and (max-width: 600px) {
  .topnav a:not(:first-child), .dropdown .dropbtn {
    display: none;
  }
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
  .topnav.responsive .dropdown {float: none;}
  .topnav.responsive .dropdown-content {position: relative;}
  .topnav.responsive .dropdown .dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}


/*table layout*/
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

tr:nth-child(even) {
  background-color: rgba(150, 212, 212, 0.4);
}

th:nth-child(even),td:nth-child(even) {
  background-color: rgba(150, 212, 212, 0.4);
}




/*places columns/box on top of each other for a small screen */
@media (max-width: 600px) {
  nav, article {
    width: 100%;
    height: auto;
  }
}

</style>
</head>
<body>

<div class="topnav" id="myTopnav">
  <a href="/Homepage">Home</a>
  <div class="dropdown">
    <button class="dropbtn">Results
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="/Results" class="active">Excel</a>
      <a href="/Resultspatient">Patients</a>
      <a href="/ResultsGlobal">Metabolites</a>
    </div>
  </div>
  <a href="/About">About</a>
  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
</div>

<section>
    <nav>
    <ul>
    <form method="post">
        <div id="filter">
        <h2>Filter options</h2>
        <!-- negative and positive z-score threshold-->
        <p>Select your negative z-score threshold:
        <select id="zscoreNeg" name="zscoreNeg">
          <option value="-1">-1</option>
          <option value="-1.2" selected>-1.2</option>
          <option value="-1.5">-1.5</option>
          <option value="-1.7">-1.7</option>
          <option value="-2">-2</option>
          <option value="-5">-5</option>
          <option value="-10">-10</option>
          <option value="-20">-20</option>

        </select></p>
        <p>Select your positive z-score threshold:
         <select id="zscorePos" name="zscorePos">
          <option value="1">1</option>
          <option value="1.2">1.2</option>
          <option value="1.4" selected>1.4</option>
          <option value="1.8">1.8</option>
          <option value="2">2</option>
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="20">20</option>
         </select></p> </div>

        <!--  Descending or ascending  -->
        <p>Order by z-score:</p>
        <input type="radio" name="order" value="desc" checked>Descending order</input><br>
        <input type="radio" name="order" value="asc">Ascending order</input><br>

        <!-- Patient ID -->
        <p>Type patient ID:</p>
        <input type="text" name="answer">
        <input type="submit" value="Submit">

        <!-- Additional information (results) or only metabolites and z-scores -->
        <h2>Options after submit</h2>
        <p>Choose your search option:</p>
        <div id="wrapper">
            <input onclick="hidAndShow2('patients','patientsR')" type="radio" name="org_pro" value="patient" checked>Metabolite and z-score</input><br>
            <input onclick="hidAndShow2('patientsR','patients')" type="radio" name="org_pro" value="patientE">Metabolite, z-score and disease(s)</input><br>
        </div></form>

    </ul>
    </nav>
    <!-- Display of the results in a table if chosen for additonal information (see above id=wrapper)-->
    <article>
    <div id="patientsR" style="display:none;">
    <table style="width:100%">
    <tr>
        <th>Metabolite</th>
        <th>Z-score</th>
        <th>Disease(s)</th>
    </tr>
     {% for x in output %}
    <tr>
        <td>{{ x }}</td>
        <td>{{ output[x][0] }}</td>
        <td>
        <table>
            <th>disease</th>
            <th>count</th>
            <th>mesh code</th>
            {% for item in output[x][1] %}
                <tr>
                <td>{{ item[0] }}</td>
                <td>{{ item[1] }}</td>
                <td><a href="https://www.ncbi.nlm.nih.gov/mesh/?term={{ item[2] }}" target="_blank">{{ item[2] }}</a></td>
            </tr>
            {% endfor %}
        </table></td>
     </tr>
        {% endfor %}
    </table></div>

    <!-- Display of the results in a table if chosen for only metabolites and z-scores-->
    <div id="patients">
    <table style="width:100%">
    <tr>
        <th>Metabolite</th>
        <th>Z-score</th>
    </tr>
     {% for x in output %}
    <tr>
        <td>{{ x }}</td>
        <td>{{ output[x][0] }}</td>
     </tr>
     {% endfor %}
    </table></div>
    </article>
</section>
  <script>
    function hidAndShow2(id,id2) {
            var x = document.getElementById(id);
            var y = document.getElementById(id2);
            x.style.display = "block"
            y.style.display = "none"
        }
    </script>
    <script>
  function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
            x.className += " responsive";
        } else {
            x.className = "topnav";
                }
        }
    </script>
</body>
</html>